
<div class="wk-modal__backdrop" *ngIf="open" (click)="close.emit()">

    <div class="wk-modal" (click)="$event.stopPropagation()">
  
      <header class="wk-modal__header">
        <h3>Workout auswählen</h3>
        <button class="wk-btn--icon" (click)="close.emit()">✕</button>
      </header>
  
      <div class="wk-modal__body">
       
        <div class="row-between">
          <div class="col" style="flex:1;">
            <label class="wk-lbl">Suche in Vorlagen…</label>
            <input class="wk-inp" [(ngModel)]="search" placeholder="z. B. Push Day" />
          </div>
  
          <label class="archive-toggle">
            <input type="checkbox" [(ngModel)]="hideArchived" />
            <span>Archiv ausblenden</span>
          </label>
        </div>
  
       
        <div class="picker-list">
          <button
            class="picker-row"
            *ngFor="let t of filtered(); trackBy: trackByTpl"
            [class.active]="selectedId === t.id"
            (click)="selectedId = t.id">
            <div class="picker-title">{{ t.name }}</div>
            <div class="picker-sub">{{ preview(t) }}</div>
          </button>
          <p class="picker-sub" *ngIf="!filtered().length">Keine Treffer.</p>
        </div>
  
  
          <div class="col">
            <label class="wk-lbl">Dauer (Stunden)</label>
            <input class="wk-inp small" type="number" min="0" [(ngModel)]="durationH" />
          </div>
          <div class="col">
            <label class="wk-lbl">Dauer (Minuten)</label>
            <input class="wk-inp small" type="number" min="0" max="59" [(ngModel)]="durationM" />
          </div>
  
          <label class="wk-chk" style="grid-column: 1 / -1; margin-top: 4px;">
            <input type="checkbox" [(ngModel)]="weekly" />
            <span>Jede Woche am gleichen Tag</span>
          </label>
        </div>
      
  
      <div class="wk-modal__footer">
        <button class="wk-btn" (click)="close.emit()">Abbrechen</button>
        <button class="wk-btn wk-btn--primary" [disabled]="!selectedId" (click)="confirm()">Weiter</button>
  </div>
    </div>
</div>